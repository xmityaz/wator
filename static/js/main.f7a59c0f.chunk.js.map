{"version":3,"sources":["Ocean/logic.ts","Ocean/playground.ts","EvolutionControls/styles.ts","EvolutionControls/EvolutionControls.tsx","StartControls/styles.ts","StartControls/StartControls.tsx","Ocean/exitConditionsLogic.ts","PlayButton/PlayButton.tsx","ResetButton/ResetButton.tsx","Ocean/Ocean.tsx","Ocean/watorExampleConfigs.ts","WizardPage/WizardPage.tsx","Navigation/Navigation.tsx","icons/Dave.tsx","icons/Ed.tsx","NextButton/NextButton.tsx","Wizard/Wizard.tsx","App/App.tsx","App/serviceWorker.ts","index.tsx","Ocean/Ocean.module.scss","Wizard/Wizard.module.scss","WizardPage/WizardPage.module.scss","Navigation/Navigation.module.scss","NextButton/NextButton.module.scss","PlayButton/PlayButton.module.scss","App/App.module.scss","ResetButton/ResetButton.module.scss"],"names":["isFish","pet","energy","getRandomEl","arr","Math","floor","random","length","processFishMove","petMap","position","boardSize","zptI","indexOf","x","Number","slice","y","west","width","east","south","height","north","positions","push","newPosition","processPetReproduce","positionToThrowCaviarIn","reproduce","evolutionParams","reproducingRate","fishReproducingRate","sharkReproducingRate","cyclesSinceReproduce","processSharkMove","config","shark","neighbourFishPositions","currentPosition","moveToRandomPosition","sharkMaxEnergy","initializePetMap","startParams","animalLength","startFishNumber","startSharkNumber","counter","Playground","canvas","brickSize","ctx","fishImg","sharkImg","fishColor","sharkColor","drawPetImg","petImg","drawImage","drawRect","color","fillStyle","fillRect","clear","clearRect","drawRectPetMap","activeShape","type","undefined","drawPetMap","this","getContext","Image","src","trackStyle","backgroundColor","handleStyle","borderColor","SliderWithTooltip","createSliderWithTooltip","Slider","convertToValueFromPercent","min","max","percent","diff","convertToPercentFromValue","value","getStep","EvolutionControls","formatValue","round","onSliderChange","name","props","onChange","values","className","step","tipFormatter","gameSpeed","React","Component","StartControls","exitConditionFunctionMap","timeout","stepsCounter","overpopulation","Object","keys","extinction","PlayButton","isPlaying","onClick","s","root","playing","paused","ResetButton","MAX_HEIGHT","CONTROLS_WIDTH","SCROLL_MARGIN","Ocean","playground","setPlayground","gameLoop","initCanvas","el","processExitConditions","args","onExit","state","exitConditions","exitProcessed","find","condition","setState","rectMode","fishPositions","filter","sharkPositions","forEach","processDay","onPlayButtonClick","initialized","isRunning","pause","play","onStart","setConfig","configChanges","getFittableSize","pageEl","document","getElementsByClassName","wizardPageStyles","wizEl","wizardStyles","content","lastElementChild","pageRect","getBoundingClientRect","wizRect","controlsWidth","clearInterval","setInterval","requestAnimationFrame","reset","setEvolutionParams","setStartParams","initialConfig","oldProps","isActive","withControls","oceanWrapper","ref","overlay","exitOverlay","controls","controlsButtons","startControls","evolutionControls","configOneFish","Infinity","configManyFish","configDoomed","configSandbox","WizardPage","children","nextStep","childrenWithInjectedProps","Children","map","child","isValidElement","cloneElement","inactive","pageContent","Navigation","totalSteps","currentStep","goToStep","dots","i","key","item","active","navigation","facebookBtn","data-href","data-layout","data-size","Dave","xmlns","viewBox","shapeRendering","stroke","d","Ed","NextButton","hovered","onMouseEnter","onMouseLeave","forOcean","rootClassName","buttonClassName","button","in","Wizard","oneFishExit","showOneFishNext","manyFishExit","showManyFishNext","doomedExit","showDoomedNext","cleanState","header","nav","isLazyMount","onStepChange","illustration","App","Boolean","window","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.f7a59c0f.chunk.js","sourcesContent":["import {Config} from './Ocean.types';\n\ntype Fish = {\n  cyclesSinceReproduce: number;\n};\n\ntype Shark = {\n  cyclesSinceReproduce: number;\n  energy: number;\n};\n\nexport type Pet = Fish | Shark;\n\nexport type PetMap = {[position: string]: Pet}; // {['0,1': {cyclesSinceReproduce: 2}]}\n\nexport function isFish(pet: Pet) {\n  return typeof (pet as Shark).energy === 'undefined';\n}\n\nfunction getRandomEl(arr: any[]) {\n  return arr[Math.floor(Math.random() * arr.length)];\n}\n\nfunction moveToRandomPosition(positions: string[], petMap: PetMap, currentPosition: string): string {\n  if (positions.length > 0) {\n    const newPosition = getRandomEl(positions);\n    petMap[newPosition] = petMap[currentPosition];\n    delete petMap[currentPosition];\n\n    return newPosition;\n  }\n\n  return currentPosition;\n}\n\nfunction processFishMove(petMap: PetMap, position: string, {boardSize}: Config): string {\n  const zptI = position.indexOf(',');\n  const x = Number(position.slice(0, zptI));\n  const y = Number(position.slice(zptI + 1, position.length));\n\n  const west = x <= 0 ? `${boardSize.width - 1},${y}` : `${x - 1},${y}`;\n  const east = x >= boardSize.width ? `0,${y}` : `${x + 1},${y}`;\n  const south = y <= 0 ? `${x},${boardSize.height - 1}` : `${x},${y - 1}`;\n  const north = y >= boardSize.height ? `${x},0` : `${x},${y + 1}`;\n  const positions = [];\n\n  if (!petMap[west]) {\n    positions.push(west);\n  }\n  if (!petMap[east]) {\n    positions.push(east);\n  }\n  if (!petMap[south]) {\n    positions.push(south);\n  }\n  if (!petMap[north]) {\n    positions.push(north);\n  }\n\n  if (positions.length > 0) {\n    const newPosition = getRandomEl(positions);\n    petMap[newPosition] = petMap[position];\n    delete petMap[position];\n\n    return newPosition;\n  }\n\n  return position;\n}\n\nfunction processPetReproduce(\n  petMap: PetMap,\n  positionToThrowCaviarIn: string,\n  position: string,\n  reproduce: () => Fish | Shark,\n  {evolutionParams}: Config\n) {\n  const pet = petMap[position];\n  const reproducingRate = isFish(pet)\n    ? evolutionParams.fishReproducingRate\n    : evolutionParams.sharkReproducingRate;\n\n  if (pet.cyclesSinceReproduce >= reproducingRate && positionToThrowCaviarIn !== position) {\n    petMap[positionToThrowCaviarIn] = reproduce();\n    pet.cyclesSinceReproduce = 0;\n  }\n}\n\nfunction processSharkMove(petMap: PetMap, position: string, config: Config): string | null {\n  const shark = petMap[position] as Shark;\n\n  const zptI = position.indexOf(',');\n  const x = Number(position.slice(0, zptI));\n  const y = Number(position.slice(zptI + 1, position.length));\n\n  const west = x <= 0 ? `${config.boardSize.width - 1},${y}` : `${x - 1},${y}`;\n  const east = x >= config.boardSize.width ? `0,${y}` : `${x + 1},${y}`;\n  const south = y <= 0 ? `${x},${config.boardSize.height - 1}` : `${x},${y - 1}`;\n  const north = y >= config.boardSize.height ? `${x},0` : `${x},${y + 1}`;\n  const neighbourFishPositions = [];\n\n  if (petMap[west] && isFish(petMap[west])) {\n    neighbourFishPositions.push(west);\n  }\n  if (petMap[east] && isFish(petMap[east])) {\n    neighbourFishPositions.push(east);\n  }\n  if (petMap[south] && isFish(petMap[south])) {\n    neighbourFishPositions.push(south);\n  }\n  if (petMap[north] && isFish(petMap[north])) {\n    neighbourFishPositions.push(north);\n  }\n\n  if (neighbourFishPositions.length > 0) {\n    const newPosition = moveToRandomPosition(neighbourFishPositions, petMap, position);\n    shark.energy = config.evolutionParams.sharkMaxEnergy;\n\n    return newPosition;\n  } else if (shark.energy > config.evolutionParams.sharkMaxEnergy) {\n    shark.energy = config.evolutionParams.sharkMaxEnergy;\n  } else if (shark.energy === 0) {\n    delete petMap[position];\n    return null;\n  }\n\n  shark.energy--;\n  return processFishMove(petMap, position, config);\n}\n\nexport function initializePetMap({startParams, boardSize, evolutionParams}: Config) {\n  const petMap: PetMap = {};\n  const animalLength = startParams.startFishNumber + startParams.startSharkNumber;\n  let counter = 0;\n\n  while (counter < animalLength) {\n    const x = Math.floor(boardSize.width * Math.random());\n    const y = Math.floor(boardSize.height * Math.random());\n    const position = `${x},${y}`;\n\n    if (!petMap[position]) {\n      petMap[position] =\n        counter < startParams.startSharkNumber\n          ? {cyclesSinceReproduce: 0, energy: evolutionParams.sharkMaxEnergy}\n          : {cyclesSinceReproduce: 0};\n\n      counter++;\n    }\n  }\n\n  return petMap;\n}\n\nexport function processDay(petMap: PetMap, config: Config) {\n  const positions = Object.keys(petMap);\n  const fishPositions = positions.filter(position => isFish(petMap[position]));\n  const sharkPositions = positions.filter(position => !isFish(petMap[position]));\n\n  fishPositions.forEach(position => {\n    const newPosition = processFishMove(petMap, position, config);\n    petMap[newPosition].cyclesSinceReproduce++;\n    processPetReproduce(petMap, position, newPosition, () => ({cyclesSinceReproduce: 0}), config);\n  });\n\n  sharkPositions.forEach(position => {\n    const newPosition = processSharkMove(petMap, position, config);\n    if (newPosition) {\n      petMap[newPosition].cyclesSinceReproduce++;\n      processPetReproduce(\n        petMap,\n        position,\n        newPosition,\n        () => ({cyclesSinceReproduce: 0, energy: config.evolutionParams.sharkMaxEnergy}),\n        config\n      );\n    }\n  });\n}\n","import {isFish, PetMap} from './logic';\nimport {Config, Size} from './Ocean.types';\n\nconst fishBase64 =\n  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAABBUlEQVRIS+2UuxHCMAyGpSoFk7AALQUtRcZgCuZgixRMkBGosghNKnF+yNiO35dzFTW5JL/1Wb9sIXQI7MCAA0La5iInikRe34he6gs+1CPX16xAJ+CdQyFA6E1uH2Lb8E88D8HN4nUNVUI0D2D/syF0n0Z4jxMgIghhLgIQCYBldax0IERq8wayrADnNEyD5DoGiDWxSqTOiLmMApCpmLXJSmIWNYBCldD3dpEbOj0/21bsBJEuBUENgFjjmwG1jd82PXeGxUl070r2CHNKJbRDWOaFHinVl9FO44DYEh4pLEzMruRYcUDWC19aMxxlCTsPyBw82b3SKVxwBOKSA1JlXxe7fkbZeRqVRmsFAAAAAElFTkSuQmCC';\nconst sharkBase64 =\n  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAABI0lEQVRIS92VsRHCMAxF444FoIRRYBkYCpaBUaCEBejMycn3yUaS5RQ5jjQJVuSnL/2YMCxwhQUYw89AoqHWKhJ5oaUkro9XlfG6HCjG98gFUR7iZiUcQAlIrNcn0FdBLYipoJaGAqR1KkBS0gXAxu/HfVhtdwVHUzILoIFMCAVjHGe4Od3UwT/P+xQLIaR51WokSFYxBRPIgqAYQAgIEHdeYT+4BhBKclg4qcF73RALgB6iIA/E89EVs3EozF3CgwjhbYMRMGgQJVh9EqgQPnwabA2h37Quzc0F4QBUjk35natSjprR4pPsol3cmpICtAoKuYUp5lbC28GfaRMpNluJNGTJDLOVcL8aDsqveZSkLqiHVH+gON1b/4z92wsZ/wP5APhM3xrh3vlOAAAAAElFTkSuQmCC';\n\nexport class Playground {\n  private ctx: CanvasRenderingContext2D;\n\n  private fishImg: CanvasImageSource;\n  private sharkImg: CanvasImageSource;\n\n  private fishColor = '#ffc107';\n  private sharkColor = '#1565c0';\n\n  private drawPetImg = (x = 0, y = 0, brickSize: Size, petImg: CanvasImageSource) => {\n    this.ctx.drawImage(petImg, x * brickSize.width, y * brickSize.height, brickSize.width, brickSize.height);\n  };\n\n  private drawRect = (x = 0, y = 0, brickSize: Size, height: number, color = '#0000ff') => {\n    this.ctx.fillStyle = color;\n    this.ctx.fillRect(x * brickSize.width, y * brickSize.height, brickSize.width, brickSize.height * height);\n  };\n\n  constructor({boardSize, brickSize}: Config, private canvas: HTMLCanvasElement) {\n    this.ctx = this.canvas.getContext('2d') as CanvasRenderingContext2D;\n\n    this.canvas.width = boardSize.width * brickSize.width;\n    this.canvas.height = boardSize.height * brickSize.height;\n\n    this.fishImg = new Image();\n    this.fishImg.src = fishBase64;\n\n    this.sharkImg = new Image();\n    this.sharkImg.src = sharkBase64;\n  }\n\n  clear = () => {\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n  };\n\n  drawRectPetMap = (petMap: PetMap, {boardSize, brickSize}: Config) => {\n    this.clear();\n\n    for (let x = 0; x < boardSize.width; x++) {\n      let activeShape: {y: number; height: number; type?: string} = {\n        y: 0,\n        type: undefined,\n        height: 0\n      };\n\n      for (let y = 0; y < boardSize.height; y++) {\n        const pet = petMap[`${x},${y}`];\n        const type = pet ? (isFish(pet) ? 'fish' : 'shark') : undefined;\n\n        if (type === activeShape.type) {\n          activeShape.height++;\n        } else {\n          if (activeShape.type) {\n            const color = activeShape.type === 'fish' ? this.fishColor : this.sharkColor;\n            this.drawRect(x, activeShape.y, brickSize, activeShape.height, color);\n          }\n\n          activeShape = {type, y, height: 1};\n        }\n      }\n\n      if (activeShape.type) {\n        const color = activeShape.type === 'fish' ? this.fishColor : this.sharkColor;\n        this.drawRect(x, activeShape.y, brickSize, activeShape.height, color);\n      }\n    }\n  };\n\n  drawPetMap = (petMap: PetMap, {boardSize, brickSize}: Config) => {\n    this.clear();\n\n    for (let x = 0; x < boardSize.width; x++) {\n      for (let y = 0; y < boardSize.height; y++) {\n        const pet = petMap[`${x},${y}`];\n        const type = pet ? (isFish(pet) ? 'fish' : 'shark') : undefined;\n\n        if (type) {\n          const petImg = type === 'fish' ? this.fishImg : this.sharkImg;\n          this.drawPetImg(x, y, brickSize, petImg);\n        }\n      }\n    }\n  };\n}\n","export const trackStyle = {backgroundColor: '#5c86ff'};\nexport const handleStyle = {borderColor: '#5c86ff'};\n","import React from 'react';\nimport Slider, {createSliderWithTooltip} from 'rc-slider';\nimport {EvolutionParams} from '../Ocean/Ocean.types';\nimport 'rc-slider/assets/index.css';\nimport {trackStyle, handleStyle} from './styles';\n\nexport type EvolutionControlsProps = {\n  className?: string;\n  values: EvolutionParams;\n  onChange: (_: Partial<EvolutionParams>) => void;\n};\n\nconst SliderWithTooltip = createSliderWithTooltip(Slider);\n\nconst convertToValueFromPercent = (min: number, max: number, percent: number) => {\n  const diff = max - min;\n  return Math.floor(((100 - percent) * diff) / 100) + min;\n};\n\nconst convertToPercentFromValue = (min: number, max: number, value: number) => {\n  const diff = max - min;\n  return 100 - (100 / diff) * (value - min);\n};\n\nconst getStep = (min: number, max: number) => {\n  return 100 / (max - min);\n};\n\nexport class EvolutionControls extends React.Component<EvolutionControlsProps> {\n  private formatValue = (value: number) => Math.round(value);\n\n  onSliderChange = (name: string, min: number, max: number) => (value: number) => {\n    this.props.onChange({[name]: convertToValueFromPercent(min, max, value)});\n  };\n\n  render() {\n    const {values, className} = this.props;\n\n    return (\n      <form className={className}>\n        <div>\n          <label>Fish reproducing rate</label>\n\n          <SliderWithTooltip\n            min={1}\n            max={100}\n            step={getStep(80, 150)}\n            onChange={this.onSliderChange('fishReproducingRate', 80, 150)}\n            value={convertToPercentFromValue(80, 150, values.fishReproducingRate)}\n            trackStyle={trackStyle}\n            handleStyle={handleStyle}\n            tipFormatter={this.formatValue}\n          />\n        </div>\n        <div>\n          <label>Shark reproducing rate</label>\n          <SliderWithTooltip\n            min={1}\n            max={100}\n            step={getStep(80, 130)}\n            onChange={this.onSliderChange('sharkReproducingRate', 80, 130)}\n            value={convertToPercentFromValue(80, 130, values.sharkReproducingRate)}\n            trackStyle={trackStyle}\n            handleStyle={handleStyle}\n            tipFormatter={this.formatValue}\n          />\n        </div>\n        <div>\n          <label>Shark hunger</label>\n\n          <SliderWithTooltip\n            min={1}\n            max={100}\n            step={getStep(5, 105)}\n            onChange={this.onSliderChange('sharkMaxEnergy', 5, 105)}\n            value={convertToPercentFromValue(5, 105, values.sharkMaxEnergy)}\n            trackStyle={trackStyle}\n            handleStyle={handleStyle}\n            tipFormatter={this.formatValue}\n          />\n        </div>\n        <div>\n          <label>Game speed</label>\n\n          <SliderWithTooltip\n            min={1}\n            max={100}\n            step={getStep(5, 105)}\n            onChange={this.onSliderChange('gameSpeed', 5, 105)}\n            value={convertToPercentFromValue(5, 105, values.gameSpeed)}\n            trackStyle={trackStyle}\n            handleStyle={handleStyle}\n            tipFormatter={this.formatValue}\n          />\n        </div>\n      </form>\n    );\n  }\n}\n","export const trackStyle = {backgroundColor: '#6d58ff'};\nexport const handleStyle = {borderColor: '#6d58ff'};\n","import React from 'react';\nimport {StartParams} from '../Ocean/Ocean.types';\nimport Slider, {createSliderWithTooltip} from 'rc-slider';\nimport {trackStyle, handleStyle} from './styles';\n\nexport type StartControlsProps = {\n  className?: string;\n  values: StartParams;\n  onChange: (startParams: Partial<StartParams>) => void;\n};\n\nconst SliderWithTooltip = createSliderWithTooltip(Slider);\n\nexport class StartControls extends React.Component<StartControlsProps> {\n  onSliderChange = (name: string) => (value: number) => {\n    this.props.onChange({[name]: value});\n  };\n\n  render() {\n    const {values, className} = this.props;\n\n    return (\n      <form className={className}>\n        <div>\n          <label>Fish number at start</label>\n          <SliderWithTooltip\n            min={1}\n            max={2500}\n            value={values.startFishNumber}\n            onChange={this.onSliderChange('startFishNumber')}\n            trackStyle={trackStyle}\n            handleStyle={handleStyle}\n          />\n        </div>\n        <div>\n          <label>Shark number at start</label>\n          <SliderWithTooltip\n            min={1}\n            max={2500}\n            value={values.startSharkNumber}\n            onChange={this.onSliderChange('startSharkNumber')}\n            trackStyle={trackStyle}\n            handleStyle={handleStyle}\n          />\n        </div>\n      </form>\n    );\n  }\n}\n","import {ExitConditions, Config} from './Ocean.types';\nimport {PetMap} from './logic';\n\ntype ExitConditionsArgs = {stepsCounter: number; petMap: PetMap; config: Config};\n\nconst processTimeout = ({stepsCounter}: ExitConditionsArgs) => {\n  return stepsCounter >= 20;\n};\n\nconst processOverpopulation = ({petMap, config}: ExitConditionsArgs) => {\n  return Object.keys(petMap).length >= config.boardSize.height * config.boardSize.width;\n};\n\nconst processExtinction = ({petMap}: ExitConditionsArgs) => {\n  return Object.keys(petMap).length === 0;\n};\n\nconst exitConditionFunctionMap: {[condition in ExitConditions]: (args: ExitConditionsArgs) => boolean} = {\n  timeout: processTimeout,\n  overpopulation: processOverpopulation,\n  extinction: processExtinction\n};\n\nexport function shouldExit(args: ExitConditionsArgs) {\n  if (args.config.exitConditions) {\n    return args.config.exitConditions.find((condition: ExitConditions) =>\n      exitConditionFunctionMap[condition](args)\n    );\n  }\n\n  return false;\n}\n","import * as React from 'react';\nimport s from './PlayButton.module.scss';\n\nexport type PlayButtonProps = {\n  isPlaying: boolean;\n  onClick: () => void;\n};\n\nexport class PlayButton extends React.Component<PlayButtonProps> {\n  render() {\n    const {isPlaying, onClick} = this.props;\n    const className = s.root + ` ${isPlaying ? s.playing : s.paused}`;\n\n    return (\n      <button className={className} onClick={onClick}>\n        <i>P</i>\n        <i>l</i>\n        <i>a</i>\n        <i>y</i>\n        <i>use</i>\n      </button>\n    );\n  }\n}\n","import * as React from 'react';\nimport s from './ResetButton.module.scss';\n\nexport type ResetButtonProps = {\n  onClick: () => void;\n};\n\nexport class ResetButton extends React.Component<ResetButtonProps> {\n  render() {\n    return (\n      <button className={s.root} onClick={this.props.onClick}>\n        Reset\n      </button>\n    );\n  }\n}\n","import React from 'react';\nimport {EvolutionParams, Config, StartParams, Size} from './Ocean.types';\nimport s from './Ocean.module.scss';\nimport {processDay, PetMap, initializePetMap} from './logic';\nimport {Playground} from './playground';\nimport {EvolutionControls} from '../EvolutionControls/EvolutionControls';\nimport {StartControls} from '../StartControls/StartControls';\nimport wizardStyles from '../Wizard/Wizard.module.scss';\nimport wizardPageStyles from '../WizardPage/WizardPage.module.scss';\nimport {shouldExit} from './exitConditionsLogic';\nimport {PlayButton} from '../PlayButton/PlayButton';\nimport {ResetButton} from '../ResetButton/ResetButton';\n\nexport type OceanProps = {\n  withControls: boolean;\n  initialConfig: Config;\n  isActive?: boolean;\n  onExit?: () => void;\n};\n\nexport type OceanState = {\n  exitProcessed: boolean;\n  isRunning: boolean;\n  initialized: boolean;\n  config: Config;\n};\n\nconst MAX_HEIGHT = 160;\nconst CONTROLS_WIDTH = 255; // 215 width + 40 margin\nconst SCROLL_MARGIN = 1;\n\nexport class Ocean extends React.Component<OceanProps, OceanState> {\n  private playground: Playground;\n  private setPlayground = (playground: Playground) => (this.playground = playground);\n\n  private petMap: PetMap;\n\n  private gameLoop: any;\n  private stepsCounter = 0;\n\n  private canvas: HTMLCanvasElement;\n\n  private get gameSpeed() {\n    return this.state.config.evolutionParams.gameSpeed;\n  }\n\n  private initCanvas = (el: HTMLCanvasElement) => {\n    this.canvas = el;\n  };\n\n  private processExitConditions = () => {\n    if (\n      this.props.onExit &&\n      this.state.config.exitConditions &&\n      !this.state.exitProcessed &&\n      shouldExit({stepsCounter: this.stepsCounter, petMap: this.petMap, config: this.state.config})\n    ) {\n      this.props.onExit();\n      this.setState({exitProcessed: true});\n    }\n  };\n\n  private step = () => {\n    this.processExitConditions();\n    this.stepsCounter++;\n\n    this.state.config.rectMode\n      ? this.playground.drawRectPetMap(this.petMap, this.state.config)\n      : this.playground.drawPetMap(this.petMap, this.state.config);\n\n    processDay(this.petMap, this.state.config);\n  };\n\n  private onPlayButtonClick = () => {\n    if (!this.state.initialized) {\n      this.onStart();\n    } else {\n      this.state.isRunning ? this.pause() : this.play();\n    }\n  };\n\n  private onStart = () => {\n    this.setState({exitProcessed: false, initialized: true});\n    this.stepsCounter = 0;\n\n    this.petMap = initializePetMap(this.state.config);\n    this.play();\n  };\n\n  private setConfig = (configChanges: Partial<Config>) => {\n    this.setState({config: {...this.state.config, ...configChanges}});\n  };\n\n  private getFittableSize = (): Size => {\n    const {brickSize} = this.state.config;\n    const pageEl = document.getElementsByClassName(wizardPageStyles.root)[0];\n    const wizEl = document.getElementsByClassName(wizardStyles.content)[0].lastElementChild as HTMLElement;\n\n    const pageRect = pageEl.getBoundingClientRect();\n    const wizRect = wizEl.getBoundingClientRect();\n    const controlsWidth = CONTROLS_WIDTH / brickSize.width;\n\n    return {\n      width: Math.floor(pageRect.width / brickSize.width) - controlsWidth,\n      height:\n        Math.min(MAX_HEIGHT - brickSize.height, Math.floor(wizRect.height / brickSize.height)) - SCROLL_MARGIN\n    };\n  };\n\n  pause = () => {\n    this.setState({isRunning: false});\n    clearInterval(this.gameLoop);\n  };\n\n  play = () => {\n    this.setState({isRunning: true});\n    this.gameLoop = setInterval(() => requestAnimationFrame(this.step), this.gameSpeed);\n  };\n\n  reset = ({startParams, evolutionParams}: Partial<Config> = {}) => {\n    this.pause();\n\n    this.setState({initialized: false});\n    this.setConfig({\n      startParams: {...this.state.config.startParams, ...startParams},\n      evolutionParams: {...this.state.config.evolutionParams, ...evolutionParams}\n    });\n\n    this.playground = new Playground(this.state.config, this.canvas);\n\n    this.setState({exitProcessed: false, initialized: true});\n    this.stepsCounter = 0;\n\n    this.petMap = initializePetMap(this.state.config);\n\n    if (this.state.isRunning) {\n      clearInterval(this.gameLoop);\n      this.play();\n    } else {\n      this.step();\n    }\n  };\n\n  setEvolutionParams = (evolutionParams: Partial<EvolutionParams>) => {\n    this.setConfig({\n      evolutionParams: {...this.state.config.evolutionParams, ...evolutionParams}\n    });\n\n    if (this.state.isRunning) {\n      clearInterval(this.gameLoop);\n      this.gameLoop = setInterval(() => requestAnimationFrame(this.step), this.gameSpeed);\n    }\n  };\n\n  setStartParams = (startParams: Partial<StartParams>) => {\n    this.setConfig({\n      startParams: {...this.state.config.startParams, ...startParams}\n    });\n  };\n\n  constructor(props: OceanProps) {\n    super(props);\n\n    this.state = {\n      isRunning: false,\n      exitProcessed: false,\n      initialized: false,\n      config: this.props.initialConfig\n    };\n  }\n\n  componentDidMount() {\n    const boardSize = this.getFittableSize();\n\n    this.setConfig({boardSize});\n    this.setPlayground(new Playground(this.state.config, this.canvas));\n  }\n\n  componentDidUpdate(oldProps: OceanProps) {\n    if (oldProps.isActive && !this.props.isActive && this.state.isRunning) {\n      this.pause();\n    }\n  }\n\n  render() {\n    const {withControls, isActive} = this.props;\n    const {isRunning, config, exitProcessed} = this.state;\n\n    return (\n      <div className={s.root}>\n        <div className={s.oceanWrapper}>\n          <canvas\n            ref={this.initCanvas}\n            width={config && config.brickSize.width * config.boardSize.width}\n            height={config && config.brickSize.height * config.boardSize.height}\n          />\n\n          {!isRunning && isActive && !withControls && (\n            <div className={s.overlay}>\n              <PlayButton isPlaying={false} onClick={this.onStart} />\n            </div>\n          )}\n\n          {exitProcessed && <div className={s.exitOverlay} />}\n        </div>\n\n        {withControls && (\n          <div className={s.controls}>\n            <div className={s.controlsButtons}>\n              <PlayButton isPlaying={isRunning} onClick={this.onPlayButtonClick} />\n              <ResetButton onClick={this.reset} />\n            </div>\n\n            <StartControls\n              className={s.startControls}\n              onChange={this.setStartParams}\n              values={this.state.config.startParams}\n            />\n\n            <EvolutionControls\n              className={s.evolutionControls}\n              values={this.state.config.evolutionParams}\n              onChange={this.setEvolutionParams}\n            />\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","import {Config} from './Ocean.types';\n\nconst gameSpeed = 50;\n\nexport const configOneFish: Config = {\n  brickSize: {width: 40, height: 40},\n  boardSize: {width: 60, height: 30},\n  evolutionParams: {\n    fishReproducingRate: Infinity,\n    sharkReproducingRate: 0,\n    sharkMaxEnergy: 0,\n    gameSpeed: 120\n  },\n  startParams: {startFishNumber: 1, startSharkNumber: 0},\n  exitConditions: ['timeout']\n};\n\nexport const configManyFish: Config = {\n  brickSize: {width: 20, height: 20},\n  boardSize: {width: 60, height: 30},\n  evolutionParams: {\n    fishReproducingRate: 20,\n    sharkReproducingRate: 0,\n    sharkMaxEnergy: 0,\n    gameSpeed: 60\n  },\n  startParams: {startFishNumber: 2, startSharkNumber: 0},\n  exitConditions: ['overpopulation']\n};\n\nexport const configDoomed: Config = {\n  brickSize: {width: 20, height: 20},\n  boardSize: {width: 185, height: 100},\n  evolutionParams: {\n    fishReproducingRate: 80,\n    sharkReproducingRate: 40,\n    sharkMaxEnergy: 35,\n    gameSpeed: 80\n  },\n  startParams: {startFishNumber: 200, startSharkNumber: 200},\n  exitConditions: ['overpopulation', 'extinction']\n};\n\nexport const configSandbox: Config = {\n  brickSize: {width: 4, height: 4},\n  boardSize: {width: 185, height: 100},\n  evolutionParams: {\n    fishReproducingRate: 100,\n    sharkReproducingRate: 135,\n    sharkMaxEnergy: 79,\n    gameSpeed\n  },\n  startParams: {startFishNumber: 2000, startSharkNumber: 2000},\n  rectMode: true\n};\n","import React from 'react';\nimport s from './WizardPage.module.scss';\n\nexport type WizardPageProps = {\n  // Own props\n\n  // Wizard injected props\n  nextStep?: () => void;\n  isActive?: boolean;\n};\n\nexport const WizardPage: React.FC<WizardPageProps> = ({children, isActive, nextStep}) => {\n  const childrenWithInjectedProps = React.Children.map(children, child => {\n    return child && React.isValidElement(child) && typeof child.type !== 'string'\n      ? React.cloneElement(child, {isActive, nextStep})\n      : child;\n  });\n  const className = s.root + (!isActive ? ` ${s.inactive}` : '');\n\n  return (\n    <div className={className}>\n      <div className={s.pageContent}>{childrenWithInjectedProps}</div>\n    </div>\n  );\n};\n","import React from 'react';\nimport s from './Navigation.module.scss';\n\nexport type NavigationProps = {\n  totalSteps?: number;\n  currentStep?: number;\n  goToStep?: (step: number) => void;\n};\n\nexport class Navigation extends React.Component<NavigationProps> {\n  render() {\n    const {totalSteps, currentStep, goToStep} = this.props;\n    const dots = [];\n\n    for (let i = 1; totalSteps && i <= totalSteps; i += 1) {\n      const isActive = currentStep === i;\n      dots.push(\n        <div\n          key={`step-${i}`}\n          className={`${s.item} ${isActive ? s.active : ''}`}\n          onClick={() => goToStep && goToStep(i)}\n        />\n      );\n    }\n\n    return (\n      <footer className={s.root}>\n        <div className={s.navigation}>{dots}</div>\n\n        <div className={s.facebookBtn}>\n          <div\n            className=\"fb-share-button\"\n            data-href=\"https://developers.facebook.com/docs/plugins/\"\n            data-layout=\"button\"\n            data-size=\"large\"\n          />\n        </div>\n      </footer>\n    );\n  }\n}\n","import * as React from 'react';\n\nexport const Dave = () => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 25 25\"\n      shapeRendering=\"crispEdges\"\n      width=\"200px\"\n      height=\"200px\"\n    >\n      <path\n        stroke=\"#000000\"\n        d=\"M13 4h2M12 5h1M15 5h1M9 6h3M14 6h1M21 6h1M3 7h2M6 7h3M15 7h1M20 7h1M22 7h1M2 8h1M5 8h1M15 8h1M19 8h1M22 8h1M2 9h1M5 9h1M16 9h3M22 9h1M3 10h2M22 10h1M2 11h1M22 11h1M1 12h1M22 12h1M2 13h1M22 13h1M1 14h1M16 14h3M22 14h1M2 15h2M16 15h1M19 15h1M22 15h1M4 16h1M14 16h2M20 16h1M22 16h1M5 17h1M9 17h2M15 17h1M21 17h1M6 18h3M11 18h1M15 18h1M12 19h3\"\n      />\n      <path\n        stroke=\"#ff9800\"\n        d=\"M13 5h2M12 6h2M21 8h1M7 9h1M20 9h1M8 10h1M19 10h1M21 10h1M9 11h1M20 11h1M9 12h1M20 12h1M8 13h1M19 13h1M21 13h1M7 14h1M20 14h1M21 15h1M9 16h5M11 17h4M12 18h3\"\n      />\n      <path\n        stroke=\"#ffc107\"\n        d=\"M9 7h6M21 7h1M6 8h9M20 8h1M6 9h1M8 9h8M19 9h1M21 9h1M5 10h3M9 10h10M20 10h1M3 11h6M10 11h10M21 11h1M4 12h5M10 12h10M21 12h1M5 13h3M9 13h10M20 13h1M4 14h3M8 14h8M19 14h1M21 14h1M4 15h12M20 15h1M5 16h4M21 16h1M6 17h3\"\n      />\n      <path stroke=\"#4caf50\" d=\"M3 8h1\" />\n      <path stroke=\"#ffffff\" d=\"M4 8h1M3 9h2\" />\n      <path stroke=\"#f44336\" d=\"M2 12h2M3 13h2M2 14h2\" />\n    </svg>\n  );\n};\n","import * as React from 'react';\n\nexport const Ed = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 25 25\"\n    shapeRendering=\"crispEdges\"\n    height=\"200px\"\n    width=\"200px\"\n  >\n    <path\n      stroke=\"#000000\"\n      d=\"M8 3h7M22 3h2M7 4h1M15 4h1M19 4h3M23 4h1M6 5h1M10 5h1M12 5h1M16 5h1M18 5h1M23 5h1M5 6h1M17 6h1M23 6h1M4 7h1M23 7h1M3 8h1M23 8h1M3 9h1M5 9h1M17 9h1M23 9h1M2 10h1M5 10h2M15 10h1M17 10h1M22 10h1M2 11h1M5 11h3M15 11h3M22 11h1M2 12h1M5 12h2M16 12h2M22 12h1M1 13h1M9 13h5M21 13h1M1 14h1M7 14h3M13 14h3M21 14h1M1 15h1M6 15h2M9 15h1M13 15h1M15 15h2M21 15h1M1 16h1M5 16h2M9 16h1M11 16h1M13 16h1M16 16h2M21 16h1M1 17h1M5 17h1M7 17h1M11 17h1M15 17h1M17 17h1M21 17h1M1 18h1M5 18h1M7 18h2M10 18h3M14 18h2M17 18h1M21 18h1M1 19h1M5 19h1M8 19h3M12 19h3M17 19h1M21 19h1M1 20h1M5 20h4M14 20h4M21 20h1M2 21h19\"\n    />\n    <path\n      stroke=\"#1565c0\"\n      d=\"M8 4h7M22 4h1M7 5h3M11 5h1M13 5h3M19 5h4M6 6h11M18 6h5M5 7h13M19 7h4M4 8h15M20 8h3M4 9h1M8 9h7M18 9h1M20 9h3M3 10h2M8 10h7M18 10h2M21 10h1M3 11h2M8 11h7M18 11h2M21 11h1M3 12h2M7 12h9M18 12h2M21 12h1M2 13h7M14 13h7M2 14h5M16 14h5M2 15h4M17 15h4M2 16h3M18 16h3M2 17h3M18 17h3M2 18h3M18 18h3M2 19h3M11 19h1M18 19h3M2 20h3M9 20h5M18 20h3\"\n    />\n    <path stroke=\"#0d47a1\" d=\"M18 7h1M19 8h1M19 9h1M20 10h1M20 11h1M20 12h1\" />\n    <path\n      stroke=\"#ffffff\"\n      d=\"M6 9h2M15 9h2M7 10h1M16 10h1M10 14h3M8 15h1M10 15h3M14 15h1M7 16h2M10 16h1M12 16h1M14 16h2M6 17h1M8 17h3M12 17h3M16 17h1M6 18h1M9 18h1M13 18h1M16 18h1M6 19h2M15 19h2\"\n    />\n  </svg>\n);\n","import * as React from 'react';\nimport s from './NextButton.module.scss';\n\nexport type NextButtonProps = {\n  nextStep?: () => void;\n  forOcean?: boolean;\n  children: string;\n};\n\nexport type NextButtonState = {\n  hovered: boolean;\n};\n\nexport class NextButton extends React.Component<NextButtonProps, NextButtonState> {\n  state = {\n    hovered: false\n  };\n\n  private onMouseEnter = () => {\n    this.setState({hovered: true});\n  };\n\n  private onMouseLeave = () => {\n    this.setState({hovered: false});\n  };\n\n  render() {\n    const {nextStep, forOcean, children} = this.props;\n    const {hovered} = this.state;\n\n    const rootClassName = s.root + (forOcean ? ` ${s.forOcean}` : '');\n    const buttonClassName = s.button + (hovered ? ` ${s.in}` : '');\n\n    return (\n      <div className={rootClassName}>\n        <button\n          className={buttonClassName}\n          onClick={nextStep}\n          onMouseEnter={this.onMouseEnter}\n          onMouseLeave={this.onMouseLeave}\n        >\n          <span>{children}</span>\n        </button>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport StepWizard from 'react-step-wizard';\nimport s from './Wizard.module.scss';\nimport {Ocean} from '../Ocean/Ocean';\nimport {configOneFish, configManyFish, configDoomed, configSandbox} from '../Ocean/watorExampleConfigs';\nimport {WizardPage} from '../WizardPage/WizardPage';\nimport {Navigation} from '../Navigation/Navigation';\nimport {Dave} from '../icons/Dave';\nimport {Ed} from '../icons/Ed';\nimport {NextButton} from '../NextButton/NextButton';\n\nexport type WizardState = {\n  showOneFishNext: boolean;\n  showManyFishNext: boolean;\n  showDoomedNext: boolean;\n};\n\nexport class Wizard extends React.Component<{}, WizardState> {\n  private oneFishExit = () => this.setState({showOneFishNext: true});\n  private manyFishExit = () => this.setState({showManyFishNext: true});\n  private doomedExit = () => this.setState({showDoomedNext: true});\n\n  private cleanState = () =>\n    this.setState({\n      showOneFishNext: false,\n      showManyFishNext: false,\n      showDoomedNext: false\n    });\n\n  constructor(props: {}) {\n    super(props);\n\n    this.state = {\n      showOneFishNext: false,\n      showManyFishNext: false,\n      showDoomedNext: false\n    };\n  }\n\n  render() {\n    const {showOneFishNext, showManyFishNext, showDoomedNext} = this.state;\n\n    return (\n      <div className={s.root}>\n        <header className={s.header}>Wator</header>\n\n        <StepWizard\n          className={s.content}\n          nav={<Navigation />}\n          isLazyMount={false}\n          onStepChange={this.cleanState}\n        >\n          <WizardPage>\n            <p>\n              It happened some time ago in a galaxy nearby. This galaxy was created and inhabited by a\n              powerful space sprit. He looked like a giant misty pillow with stellar background shining\n              through him. The spirit called himself God while other spirits from neighbour galaxies called\n              him simply Josh.\n            </p>\n            <p>\n              Josh has just returned home after visiting Earth. Heavily, like a rainy cloud he drifted through\n              the void. He was thinking about life. The Earth was swarming with life, yet not a single planet\n              in his own galaxy had even a spark of it. All the stars he created were shining in vane.\n            </p>\n            <p>\n              He was passing a system with a small yellow star similar to the Sun when he started glowing with\n              an idea. He ought to create the life of his own.\n            </p>\n            <NextButton>And then...</NextButton>\n          </WizardPage>\n\n          <WizardPage>\n            <p>\n              First he created a small planet on its orbit. He knew all life on Earth began in water so he\n              filled his planet with a crystal blue ocean that covered every bit of the rocky land. The he\n              filled his ocean with endless tiny weed so that no life ever dies from hunger. And then he\n              created Dave, a fish.\n            </p>\n\n            <div className={s.illustration}>\n              <Dave />\n            </div>\n\n            <NextButton>Behold the Genesis</NextButton>\n          </WizardPage>\n\n          <WizardPage>\n            <Ocean withControls={false} initialConfig={configOneFish} onExit={this.oneFishExit} />\n\n            {showOneFishNext && <NextButton forOcean={true}>Proceed</NextButton>}\n          </WizardPage>\n\n          <WizardPage>\n            <p>\n              For a brief moment he was happy. But suddenly he understood that Dave lacks something very\n              important for life. The purpose. He looked at Earth and right away he knew what he should do. He\n              gave Dave an ability to give birth.\n            </p>\n\n            <NextButton>How Dave is craving his purpose?</NextButton>\n          </WizardPage>\n\n          <WizardPage>\n            <Ocean withControls={false} initialConfig={configManyFish} onExit={this.manyFishExit} />\n\n            {showManyFishNext && <NextButton forOcean={true}>Proceed</NextButton>}\n          </WizardPage>\n\n          <WizardPage>\n            <p>\n              Oh no, Dave went out of control and kept reproducing until the ocean became overcrowded. He\n              wanted Dave to be happy but instead he condemned him and all his family to miserable existence\n              in this uninhabitable world. Josh was furious. He had to fix this.\n            </p>\n\n            <p>\n              Storming in rage he evaporated the ocean leaving the planet sterile. When his thoughts where\n              clear again he made a new ocean and a new Dave. He decided to make life balance life.\n            </p>\n\n            <NextButton>Seek for the balance</NextButton>\n          </WizardPage>\n\n          <WizardPage>\n            <p>\n              He created Ed, a shark, a necessary evil. Ed would not eat weed like Dave, he would eat Dave.\n            </p>\n\n            <div className={s.illustration}>\n              <Ed />\n            </div>\n\n            <p>\n              Josh knew he should be careful not to make old mistakes. He let sharks breed, but he also made\n              them die if they don't eat. This way it was just.\n            </p>\n\n            <NextButton>But is it really that simple?</NextButton>\n          </WizardPage>\n\n          <WizardPage>\n            <Ocean withControls={false} initialConfig={configDoomed} onExit={this.doomedExit} />\n\n            {showDoomedNext && <NextButton forOcean={true}>Proceed</NextButton>}\n          </WizardPage>\n\n          <WizardPage>\n            <p>\n              Something was not quite right. This world was dead again. Sharks ate all the fish and died of\n              hunger. He thought that he could fix it by making Ed breed slowly.\n            </p>\n\n            <p>Now Josh was faced with an ultimate challenge: how to strike the balance.</p>\n            <NextButton>Let's give a helping hand</NextButton>\n          </WizardPage>\n\n          <WizardPage>\n            <Ocean withControls={true} initialConfig={configSandbox} />\n          </WizardPage>\n        </StepWizard>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport s from './App.module.scss';\nimport {Wizard} from '../Wizard/Wizard';\n\nconst App: React.FC = () => {\n  return (\n    <div className={s.root}>\n      <Wizard />\n    </div>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App/App';\nimport * as serviceWorker from './App/serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Ocean_root__2vubK\",\"oceanWrapper\":\"Ocean_oceanWrapper__pD5FV\",\"overlay\":\"Ocean_overlay__WeTpR\",\"exitOverlay\":\"Ocean_exitOverlay__2oCHC\",\"controls\":\"Ocean_controls__1yAmT\",\"controlsButtons\":\"Ocean_controlsButtons__1Dp2Z\",\"startControls\":\"Ocean_startControls__exfp0\",\"evolutionControls\":\"Ocean_evolutionControls__2dpEA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Wizard_root__3jBbf\",\"header\":\"Wizard_header__3bqAQ\",\"content\":\"Wizard_content__gbpAh\",\"illustration\":\"Wizard_illustration__1KHTa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"WizardPage_root__HAYob\",\"inactive\":\"WizardPage_inactive__3s-pf\",\"pageContent\":\"WizardPage_pageContent__12Fnz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Navigation_root__1HmIl\",\"navigation\":\"Navigation_navigation__z7Rs0\",\"item\":\"Navigation_item__1d4Is\",\"active\":\"Navigation_active__12WqF\",\"facebookBtn\":\"Navigation_facebookBtn__21RjW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"NextButton_root__3DBBR\",\"forOcean\":\"NextButton_forOcean__1v6lH\",\"button\":\"NextButton_button__3s9hr\",\"in\":\"NextButton_in__3x1hg\",\"out\":\"NextButton_out__231nm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"PlayButton_root__34r0a\",\"paused\":\"PlayButton_paused__4GVyH\",\"background-paused\":\"PlayButton_background-paused__2YDbQ\",\"to-play\":\"PlayButton_to-play__173FQ\",\"playing\":\"PlayButton_playing__3p1xt\",\"to-pause\":\"PlayButton_to-pause__1XVZv\",\"background-playing\":\"PlayButton_background-playing__3OdDh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"App_root__nWMuC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ResetButton_root__m6DOe\"};"],"sourceRoot":""}